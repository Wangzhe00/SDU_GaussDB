## 2021年9月7日23:32:38



## 近期工作

1. 服务器环境适配完毕
   1. `log4xx 0.20.0`
   2. `gcc 10.1`
   3. `cmake 3.12`

2. 测试框架基本梳理完成
   1. 有`32`个`Client`并发给`Server`发每次的读写请求
   2. 每个线程不会发生某个页写多次情况，目测可以忽略`page`竞争问题
   3. 需要尽可能支持随机读写、顺序读写、高频读写等一般情况
   4. 数据生成需要支持热点数据覆盖率定制化，常见分布随机生成，最终文件在`20~30G`之间

3. 基础架构基本构思完成，`code`进展`30%`
   1. 主要调度算法选用`ARC`，优点是其自适应能力优越，检具`LRU`、`LFU`
   2. 由于题目要求的`2M page size`与其他`page size`相差太大，需要特殊管理，其余`page size`均统一`cache line`大小，便于使用同一个内存池里的节点
   3. 由于2中需要设计两套页面置换，所以需要设计两个内存池`pool1`,`pool2`，以供`ARC`使用
   4. 会有专门的线程专门去根据两个`ARC`最近命中率等评估函数去动态调整两个池子的大小，**这个算法暂定**，这里避免小池子产生内存碎片问题，故而会在大池子的管理中添加虚拟的节点（即使用小池子里的节点串起来）
   5. 会有专门的线程在**合适的时间**去做脏页的写回操作，这里合适的时间需要细节讨论，可以选用最近`read`的命中率等指标。

## 未完成事项及其他

1. 团队队员调度不太活跃，需要抓紧派活，时间有限
2. 热门数据库的调研不充分，没有充分了解`MySQL`等缓冲池底层设计
3. 调度策略不太全，比如比较高效的`Clock-Pro`未学习
4. 手太生，导致编码速度过慢，可能会耽误`DDL`